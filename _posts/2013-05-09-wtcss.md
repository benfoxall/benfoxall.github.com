---
layout: post
title: "Visualising CSS selector matches"
---

<a href="http://css.benjaminbenben.com/?url=http%3A%2F%2Fgoogle.co.uk"><img src="/img/wtcss-google.png" /></a>

<p class="lead">I was working with a large css codebase and wanted to see if our rules were becoming more specific as the css source grew, so I built <a href="http://css.benjaminbenben.com">css.benjaminbenben.com</a> to look at how css rules are applied to a page.</p>

### Active rules

<img src="/img/wtcss-active.png" />

This shows how many of the selectors are being used on a page, you can toggle to show only the active ones.

### Overview

The '-' link on the bottom right scales the rules so that they fit the height of the window.  This is to show the how the impact changes as rules are added to the css.

An example (with notes) of the [jsOxford](http://jsoxford.com) site is below:

<img src="/img/wtcss-over.png" />

###Â How it works

The main part of this is a [PhantomJS](http://phantomjs.org/) script which
1. loads the page
2. extracts all stylesheet rules
3. finds matching elements for each rule and gets the positions of them
4. takes a screenshot

All this is sent back to the client in a json object (including the image as a data-uri).